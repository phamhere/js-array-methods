<script src="../simpletest.js"></script>
<script>
  // It should move the last element from an array and return that element
  // It should return undefined if the array is empty
  // It should apply to objects resembling arrays if they contain a length property


  function pop(array) {
    const lastElement = array[array.length - 1];
    if (!(array instanceof Array)) {
      delete array[array.length - 1];
    }
    if (array.length > 0) {
      array.length--;
    }
    return lastElement;
  }

  tests({
    'It should remove the last element from an array and return that element.': function () {
      const inputArray = [1, 2, 3];
      const output = pop(inputArray);
      eq(inputArray.length, 2);
      eq(output, 3);
    },

    'It should return undefined if the array is empty.': function () {
      const output = pop([]);
      eq(output, undefined);
    },

    'It should apply to objects resembling arrays if they contain a length property.': function () {
      const obj = {
        "length": 2,
        "0": 1,
        "1": 2
      };
      const output = pop(obj);
      eq("1" in obj, false);
      eq(obj.length, 1);
      eq(output, 2);
    }

  });
</script>